(()=>{"use strict";const e=function(e){const t=document.getElementById(e),n=document.createElement("div");n.style.cssText="font-size: 2rem; color: #fff;",t.appendChild(n),t.addEventListener("submit",(e=>{e.preventDefault();let o=!0;if(t.querySelectorAll("input").forEach((e=>{e.value||(o=!1)})),o){n.innerHTML="\n          <div class='sk-three-bounce'>\n          <div class='sk-bounce-1 sk-child'></div>\n          <div class='sk-bounce-2 sk-child'></div>\n          <div class='sk-bounce-3 sk-child'></div>\n          </div>\n          ";const e=new FormData(t),o={};e.forEach(((e,t)=>{o[t]=e})),function(e){return fetch("./server.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})}(o).then((e=>{if(200!==e.status)throw new Error("Network status is not 200");n.textContent="Спасибо! Мы скоро с вами свяжемся",setTimeout((()=>{t.closest(".popup")?(n.textContent="",t.closest(".popup").style.display="none"):n.textContent=""}),3e3)})).catch((e=>{n.textContent="Что-то пошло не так...",console.error(e),setTimeout((()=>{n.textContent=""}),3e3)}))}else n.textContent="Необходимо заполнить все поля!",setTimeout((()=>{n.textContent=""}),3e3)}))};var t;(function(e){const t=document.querySelector("#timer-hours"),n=document.querySelector("#timer-minutes"),o=document.querySelector("#timer-seconds"),c=setInterval((function(){const l=function(){const t=(new Date(e).getTime()-(new Date).getTime())/1e3,n=Math.floor(t%60),o=Math.floor(t/60%60);return{timeRemaining:t,hours:Math.floor(t/60/60),minutes:o,seconds:n}}();l.hours<10?t.textContent="0"+l.hours:t.textContent=l.hours,l.minutes<10?n.textContent="0"+l.minutes:n.textContent=l.minutes,l.seconds<10?o.textContent="0"+l.seconds:o.textContent=l.seconds,l.timeRemaining<=0&&(t.textContent="00",n.textContent="00",o.textContent="00",clearInterval(c))}),1e3)})("22 april 2021"),function(){const e=document.querySelector("menu"),t=e.querySelectorAll("ul>li");function n(){e.classList.toggle("active-menu")}document.addEventListener("click",(o=>{const c=o.target;c.closest(".menu")?n():c.closest("menu")?(c.classList.contains("close-btn")&&n(),t.forEach((e=>{if(e=e.querySelector("a"),c===e){o.preventDefault();const t=e.getAttribute("href");document.querySelector(t).scrollIntoView({behavior:"smooth",block:"start"}),n()}}))):e.classList.remove("active-menu")}))}(),function(){const e=document.querySelector(".popup"),t=document.querySelectorAll(".popup-btn");let n,o=0;function c(){n=requestAnimationFrame(c),o+=.1,o<=1?e.style.opacity=o:cancelAnimationFrame(c)}function l(){e.style.display="none",o=0,cancelAnimationFrame(n),e.querySelector("form").reset()}t.forEach((t=>{t.addEventListener("click",(()=>{screen.availWidth>768?(e.style.opacity="0",e.style.display="block",n=requestAnimationFrame(c)):e.style.display="block"}))})),e.addEventListener("click",(e=>{const t=e.target;t.classList.contains("popup-close")?l():t.closest(".popup-content")||l()}))}(),function(){const e=document.querySelector("main>a");e.addEventListener("click",(t=>{t.preventDefault();const n=e.getAttribute("href");document.querySelector(n).scrollIntoView({behavior:"smooth",block:"start"})}))}(),function(){const e=document.querySelector(".service-header"),t=document.querySelectorAll(".service-header-tab"),n=document.querySelectorAll(".service-tab");e.addEventListener("click",(e=>{const o=e.target.closest(".service-header-tab");o&&t.forEach(((e,c)=>{e===o&&function(e){n.forEach(((n,o)=>{o===e?(t[o].classList.add("active"),n.classList.remove("d-none")):(t[o].classList.remove("active"),n.classList.add("d-none"))}))}(c)}))}))}(),function(e=7e3){const t=document.querySelector(".portfolio-content"),n=document.querySelectorAll(".portfolio-item"),o=document.querySelector(".portfolio-dots"),c=[];let l,r=0;function a(e,t,n){e[t].classList.remove(n)}function s(e,t,n){e[t].classList.add(n)}function i(){a(n,r,"portfolio-item-active"),a(c,r,"dot-active"),r++,r>=n.length&&(r=0),s(n,r,"portfolio-item-active"),s(c,r,"dot-active")}function u(){l=setInterval(i,e)}t.addEventListener("click",(e=>{e.preventDefault();const t=e.target;t.matches(".portfolio-btn, .dot")&&(a(n,r,"portfolio-item-active"),a(c,r,"dot-active"),t.matches("#arrow-right")?r++:t.matches("#arrow-left")?r--:t.matches(".dot")&&c.forEach(((e,n)=>{e===t&&(r=n)})),r>=n.length&&(r=0),r<0&&(r=n.length-1),s(n,r,"portfolio-item-active"),s(c,r,"dot-active"))})),t.addEventListener("mouseover",(()=>{clearInterval(l)})),t.addEventListener("mouseout",(()=>{u()})),function(){for(let e=0;e<n.length;e++){const t=document.createElement("li");t.classList.add("dot"),0===e&&t.classList.add("dot-active"),c.push(t),o.append(t)}}(),u()}(),function(){const e=document.getElementById("command");let t;e.addEventListener("mouseover",(e=>{const n=e.target;n.classList.contains("command__photo")&&(t=n.src,n.src=n.dataset.img)})),e.addEventListener("mouseout",(e=>{const n=e.target;n.classList.contains("command__photo")&&t&&(n.src=t)}))}(),document.querySelectorAll(".calc-block input").forEach((e=>{e.addEventListener("input",(e=>{const t=e.target;t.value=t.value.replace(/[^\d]/,"")}))})),document.querySelectorAll('input[placeholder="Ваше имя"]').forEach((e=>{e.addEventListener("input",(e=>{const t=e.target;t.value=t.value.replace(/[^А-ЯЁ\- ]/gi,"")}))})),document.querySelectorAll('input[type="email"]').forEach((e=>{e.addEventListener("input",(e=>{const t=e.target;t.value=t.value.replace(/[^A-Z@-_.!~*']/gi,"")}))})),document.querySelectorAll('input[type="tel"]').forEach((e=>{e.addEventListener("input",(e=>{const t=e.target;t.value=t.value.replace(/[^0-9+]/gi,"")}))})),document.querySelectorAll('input[placeholder="Ваше сообщение"]').forEach((e=>{e.addEventListener("input",(e=>{const t=e.target;t.value=t.value.replace(/[^А-ЯЁ0-9,.?!:;\- ]/gi,"")}))})),document.querySelectorAll("input").forEach((e=>{e.addEventListener("blur",(()=>{e.value=e.value.replace(/-+/g,"-"),e.value=e.value.replace(/ +/g," "),e.value=e.value.replace(/^(-| )+/g,""),e.value=e.value.replace(/(-| )$/g,""),"email"!==e.type?(e.value=e.value.replace(/^./g,(e=>e.toUpperCase())),e.value=e.value.replace(/(?!^).*/,(e=>e.toLowerCase()))):e.value=e.value.replace(/.*/,(e=>e.toLowerCase()))}))})),t=100,document.querySelector(".calc-block").addEventListener("input",(e=>{const n=e.target;(n.matches("select")||n.matches("input"))&&function(e){const t=document.querySelector(".calc-type"),n=document.querySelector(".calc-square"),o=document.querySelector(".calc-count"),c=document.querySelector(".calc-day"),l=document.getElementById("total"),r=t.options[t.selectedIndex].value,a=+n.value;let s,i,u=0,d=1,m=1,p=+l.textContent;o.value>1&&(d+=(o.value-1)/10),c.value&&c.value<5?m*=2:c.value&&c.value<10&&(m*=1.5),r&&a&&(u=Math.floor(e*r*a*d*m)),p<u?i=.1*(u-p):p>u&&(i=.1*(p-u)),function e(){if(s=requestAnimationFrame(e),p<u)p+=Math.floor(i),l.textContent=p;else if(p>u)p-=Math.floor(i),l.textContent=p;else if(0!==p&&0!==u&&p===u)return console.log(2),void cancelAnimationFrame(s)}()}(t)})),e("form1"),e("form2"),e("form3"),new class{constructor({main:e,wrap:t}){this.main=document.querySelector(e),this.wrap=document.querySelector(t),this.slides=document.querySelector(t).children}init(){this.addGloClass(),this.addStyles()}addGloClass(){this.main.classList.add("glo-slider"),this.wrap.classList.add("glo-slider__wrap");for(const e of this.slides)e.classList.add("glo-slider__item")}addStyles(){const e=document.createElement("style");e.id="sliderCarousel-styles",e.textContent="\n      .glo-slider {\n        overflow: hidden !important;\n      }\n\n      .glo-slider__wrap {\n        display: flex !important;\n        transition: transform 0.5s !important;\n      }\n\n      .glo-slider__item {\n        flex: 0 0 25% !important;\n        margin: auto 0 !important;\n      }\n    "}}({main:".companies-wrapper",wrap:".companies-hor"}).init()})();