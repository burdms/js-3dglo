(()=>{"use strict";const e=function(e){const t=document.getElementById(e),o=document.createElement("div");o.style.cssText="font-size: 2rem; color: #fff;",t.appendChild(o),t.addEventListener("submit",(e=>{e.preventDefault();let n=!0;if(t.querySelectorAll('input:not([placeholder="Ваше сообщение"])').forEach((e=>{e.value||(n=!1)})),n){o.innerHTML="\n          <div class='sk-three-bounce'>\n            <div class='sk-bounce-1 sk-child'></div>\n            <div class='sk-bounce-2 sk-child'></div>\n            <div class='sk-bounce-3 sk-child'></div>\n          </div>\n          ";const e=new FormData(t),n={};e.forEach(((e,t)=>{n[t]=e})),function(e){return fetch("./server.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})}(n).then((e=>{if(200!==e.status)throw new Error("Network status is not 200");t.reset(),o.textContent="Спасибо! Мы скоро с вами свяжемся",setTimeout((()=>{t.closest(".popup")?(o.textContent="",t.closest(".popup").style.display="none"):o.textContent=""}),3e3)})).catch((e=>{o.textContent="Что-то пошло не так...",console.error(e),setTimeout((()=>{o.textContent=""}),3e3)}))}else o.textContent="Необходимо заполнить все поля!",setTimeout((()=>{o.textContent=""}),3e3)}))};var t;(function(e){const t=document.querySelector("#timer-hours"),o=document.querySelector("#timer-minutes"),n=document.querySelector("#timer-seconds"),s=setInterval(i,1e3);function i(){const i=function(){const t=(new Date(e).getTime()-(new Date).getTime())/1e3,o=Math.floor(t%60),n=Math.floor(t/60%60);return{timeRemaining:t,hours:Math.floor(t/60/60),minutes:n,seconds:o}}();i.hours<10?t.textContent="0"+i.hours:t.textContent=i.hours,i.minutes<10?o.textContent="0"+i.minutes:o.textContent=i.minutes,i.seconds<10?n.textContent="0"+i.seconds:n.textContent=i.seconds,i.timeRemaining<=0&&(t.textContent="00",o.textContent="00",n.textContent="00",s&&clearInterval(s))}i()})("12 may 2021"),function(){const e=document.querySelector("menu"),t=e.querySelectorAll("ul>li");function o(){e.classList.toggle("active-menu")}document.addEventListener("click",(n=>{const s=n.target;s.closest(".menu")?o():s.closest("menu")?(s.classList.contains("close-btn")&&o(),t.forEach((e=>{if(e=e.querySelector("a"),s===e){n.preventDefault();const t=e.getAttribute("href");document.querySelector(t).scrollIntoView({behavior:"smooth",block:"start"}),o()}}))):e.classList.remove("active-menu")}))}(),function(){const e=document.querySelector(".popup"),t=document.querySelectorAll(".popup-btn");let o,n=0;function s(){o=requestAnimationFrame(s),n+=.1,n<=1?e.style.opacity=n:cancelAnimationFrame(s)}function i(){e.style.display="none",n=0,cancelAnimationFrame(o),e.querySelector("form").reset()}t.forEach((t=>{t.addEventListener("click",(()=>{screen.availWidth>768?(e.style.opacity="0",e.style.display="block",o=requestAnimationFrame(s)):e.style.display="block"}))})),e.addEventListener("click",(e=>{const t=e.target;t.classList.contains("popup-close")?i():t.closest(".popup-content")||i()}))}(),function(){const e=document.querySelector("main>a");e.addEventListener("click",(t=>{t.preventDefault();const o=e.getAttribute("href");document.querySelector(o).scrollIntoView({behavior:"smooth",block:"start"})}))}(),function(){const e=document.querySelector(".service-header"),t=document.querySelectorAll(".service-header-tab"),o=document.querySelectorAll(".service-tab");e.addEventListener("click",(e=>{const n=e.target.closest(".service-header-tab");n&&t.forEach(((e,s)=>{e===n&&function(e){o.forEach(((o,n)=>{n===e?(t[n].classList.add("active"),o.classList.remove("d-none")):(t[n].classList.remove("active"),o.classList.add("d-none"))}))}(s)}))}))}(),function(e=7e3){const t=document.querySelector(".portfolio-content"),o=document.querySelectorAll(".portfolio-item"),n=document.querySelector(".portfolio-dots"),s=[];let i,r=0;function l(e,t,o){e[t].classList.remove(o)}function c(e,t,o){e[t].classList.add(o)}function a(){l(o,r,"portfolio-item-active"),l(s,r,"dot-active"),r++,r>=o.length&&(r=0),c(o,r,"portfolio-item-active"),c(s,r,"dot-active")}function d(){i=setInterval(a,e)}t.addEventListener("click",(e=>{e.preventDefault();const t=e.target;t.matches(".portfolio-btn, .dot")&&(l(o,r,"portfolio-item-active"),l(s,r,"dot-active"),t.matches("#arrow-right")?r++:t.matches("#arrow-left")?r--:t.matches(".dot")&&s.forEach(((e,o)=>{e===t&&(r=o)})),r>=o.length&&(r=0),r<0&&(r=o.length-1),c(o,r,"portfolio-item-active"),c(s,r,"dot-active"))})),t.addEventListener("mouseover",(()=>{clearInterval(i)})),t.addEventListener("mouseout",(()=>{d()})),function(){for(let e=0;e<o.length;e++){const t=document.createElement("li");t.classList.add("dot"),0===e&&t.classList.add("dot-active"),s.push(t),n.append(t)}}(),d()}(),function(){const e=document.getElementById("command");let t;e.addEventListener("mouseover",(e=>{const o=e.target;o.classList.contains("command__photo")&&(t=o.src,o.src=o.dataset.img)})),e.addEventListener("mouseout",(e=>{const o=e.target;o.classList.contains("command__photo")&&t&&(o.src=t)}))}(),document.querySelectorAll(".calc-block input").forEach((e=>{e.addEventListener("input",(e=>{const t=e.target;t.value=t.value.replace(/[^\d]/,"")}))})),document.querySelectorAll('input[placeholder="Ваше имя"]').forEach((e=>{e.addEventListener("input",(e=>{const t=e.target;t.value=t.value.replace(/[^А-ЯЁ\- ]/gi,"")}))})),document.querySelectorAll('input[type="email"]').forEach((e=>{e.addEventListener("input",(e=>{const t=e.target;t.value=t.value.replace(/[^A-Z@-_.!~*']/gi,"")}))})),document.querySelectorAll('input[type="tel"]').forEach((e=>{e.addEventListener("input",(e=>{const t=e.target;t.value=t.value.replace(/[^0-9+]/gi,"")}))})),document.querySelectorAll('input[placeholder="Ваше сообщение"]').forEach((e=>{e.addEventListener("input",(e=>{const t=e.target;t.value=t.value.replace(/[^А-ЯЁ0-9,.?!:;\- ]/gi,"")}))})),document.querySelectorAll("input").forEach((e=>{e.addEventListener("blur",(()=>{e.value=e.value.replace(/-+/g,"-"),e.value=e.value.replace(/ +/g," "),e.value=e.value.replace(/^(-| )+/g,""),e.value=e.value.replace(/(-| )$/g,""),"email"!==e.type?(e.value=e.value.replace(/^./g,(e=>e.toUpperCase())),e.value=e.value.replace(/(?!^).*/,(e=>e.toLowerCase()))):e.value=e.value.replace(/.*/,(e=>e.toLowerCase()))}))})),t=100,document.querySelector(".calc-block").addEventListener("input",(e=>{const o=e.target;(o.matches("select")||o.matches("input"))&&function(e){const t=document.querySelector(".calc-type"),o=document.querySelector(".calc-square"),n=document.querySelector(".calc-count"),s=document.querySelector(".calc-day"),i=document.getElementById("total"),r=t.options[t.selectedIndex].value,l=+o.value;let c=0,a=1,d=1;n.value>1&&(a+=(n.value-1)/10),s.value&&s.value<5?d*=2:s.value&&s.value<10&&(d*=1.5),r&&l&&(c=Math.floor(e*r*l*a*d)),i.textContent=c}(t)})),e("form1"),e("form2"),e("form3"),new class{constructor({main:e,wrap:t,prev:o,next:n,infinity:s=!1,position:i=0,slidesToShow:r=3,responsive:l=[]}){e&&t||console.warn('Slider Carousel: необходимо передать 2 свойства: "main" и "wrap"'),this.main=document.querySelector(e),this.wrap=document.querySelector(t),this.slides=document.querySelector(t).children,this.prev=document.querySelector(o),this.next=document.querySelector(n),this.slidesToShow=r,this.options={position:i,infinity:s,slideWidth:Math.floor(100/this.slidesToShow),maxPosition:this.slides.length-this.slidesToShow},this.responsive=l}init(){this.addGloClass(),this.addStyles(),this.prev&&this.next||this.addArrows(),this.controlSlider(),this.responsive&&this.responsiveItit()}addGloClass(){this.main.classList.add("glo-slider"),this.wrap.classList.add("glo-slider__wrap");for(const e of this.slides)e.classList.add("glo-slider__item")}addStyles(){let e=document.getElementById("sliderCarousel-styles");e||(e=document.createElement("style"),e.id="sliderCarousel-styles"),e.textContent=`\n      .glo-slider {\n        overflow: hidden !important;\n      }\n\n      .glo-slider__wrap {\n        display: flex !important;\n        transition: transform 0.5s !important;\n      }\n\n      .glo-slider__item {\n        display: flex !important;\n        align-items: center;\n        justify-content: center;\n        flex: 0 0 ${this.options.slideWidth}% !important;\n        margin: auto 0 !important;\n      }\n    `,document.head.appendChild(e)}controlSlider(){this.prev.addEventListener("click",this.prevSlide.bind(this)),this.next.addEventListener("click",this.nextSlide.bind(this))}prevSlide(){(this.options.infinity||this.options.position>0)&&(--this.options.position,this.options.position<0&&(this.options.position=this.options.maxPosition),this.wrap.style.transform=`translateX(-${this.options.position*this.options.slideWidth}%)`)}nextSlide(){(this.options.infinity||this.options.position<this.options.maxPosition)&&(++this.options.position,this.options.position>this.options.maxPosition&&(this.options.position=0),this.wrap.style.transform=`translateX(-${this.options.position*this.options.slideWidth}%)`)}addArrows(){this.prev=document.createElement("button"),this.next=document.createElement("button"),this.prev.className="glo-slider__prev",this.next.className="glo-slider__next",this.main.appendChild(this.prev),this.main.appendChild(this.next);const e=document.createElement("style");e.textContent="\n        .glo-slider__prev,\n        .glo-slider__next {\n          margin: 0 10px;\n          border: 20px solid transparent;\n          background-color: transparent;\n          outline: none; \n        }\n\n        .glo-slider__prev {\n          border-right-color: #19b5fe;\n        }\n\n        .glo-slider__next {\n          border-left-color: #19b5fe;\n        }\n\n        .glo-slider__prev:hover,\n        .glo-slider__next:hover {\n          background-color: transparent;\n        }\n      ",document.head.appendChild(e)}responsiveItit(){const e=this.slidesToShow,t=this.responsive.map((e=>e.breakpoint)),o=Math.max(...t),n=()=>{this.options.slideWidth=Math.floor(100/this.slidesToShow),this.options.maxPosition=this.slides.length-this.slidesToShow,this.addStyles()},s=()=>{const s=document.documentElement.clientWidth;if(s<o)for(let e=0;e<t.length;e++)s<t[e]&&(this.slidesToShow=this.responsive[e].slidesToShow,n());else this.slidesToShow=e,n()};s(),window.addEventListener("resize",s)}}({main:".companies-wrapper",wrap:".companies-hor",infinity:!0,slidesToShow:4,responsive:[{breakpoint:1024,slidesToShow:3},{breakpoint:768,slidesToShow:2},{breakpoint:576,slidesToShow:1}]}).init()})();